
*Tell me about a time when you were not able to meet a time commitment. What prevented you from meeting it? What was the outcome and what did you learn from it?*
  
**Situation & Task:**
- During my internship with Facebook Feed Ranking team, where I was working on improving our team's PNUF model's offline and online performance, one of the task I needed to do was to add multiple negative-labeled data from another very large dataset.
- The technical steps to do that is pretty straight-forward - I just find users who only has positive-only labels, and do a join with the original dataset to find the negative labeled samples. Of course there are some other details to handle such as picking only the same amount of positive-labels as the existing negative labels to achieve a balanced sample, etc, but this is the main idea.
- But the thing is both of the two datasets are very big, and doing a join takes up lots of resources.
- I tested it for 1 day and it took 10 hours.
- And to put the dataset into the model training pipeline it needs to backfill at least 7 days of data.
- so I needed about 3 more days to complete making the dataset.
- And model training and offline evaluation takes about another 12 hours. So in total 4 days.
- It was actually still within the time that I had - my plan was to finish this in a week. But when I was backfilling the 7 days of data, the backfill pipeline stopped at the second day, saying that our team have been way over on computational resource quota, and as a result everyone has a very limited quota that's allowed per day. And I was blocked from running any pipeline for 3 days.

**Action:**

- So there are 3 distinct moments where I planned or adjusted the plan for the expected time:
- first is when I started, while I did not work on the exact same task, I put a week as this is the amount of time that I took for a similar task before.
- Second is when I realized that backfilling data will take about 3 days. Since it's still within a week's constraint - although a little tight, I just written them down in my 1-1 meeting note with my manager - about the time needed on backfill, and about the . But since I was responsible for my own project and there's not much I need help from him at that time, I just informed him that this is what's going on, and he thought that is a reasonable amount of time as well.
- The third time is when I was blocked at running any pipelines.
- I immediately submitted a ticket and reached out to the oncall person for this,
- but she did not respond for about half a day.
- My manager suggested me to just wait, as the task that I was working on was pretty exploratory and our team do not have launch or production deadlines that depend on it.
- But I thought that even if I got un-blocked by the oncall person, I will run into storage issue again if nothing's changed - so I did two things.
- First I tried to optimize my pipeline. Sadly there's not much I could do other than just a tiny little bit of pre-filtering before the join operations. Just in case there may be other ways that may do, I made a workplace post in our group and tagged a few people to check if my algorithm was efficient enough. Two of my peers mentioned some other updates, including additional pre-filtering and switch the tables before and after the join operation, so select from the larger table and join the smaller. After the oncall un-blocked me the next day, I found that a test run for one day has been decreased to 5 hours.
- So the other thing that I did is that I brought this up to a senior engineer in our team to resource quota let her know about this resource quota issue that I was experiencing. And she told me that many of our team members had pipelines that are no longer needed - that are still running - she knows about it but just did not have time to resolve this. So I just went ahead and prepared a spreadsheet by collecting all of the pipelines that were running in our team, with the stakeholders' names and the amount of times they were running. The senior engineer then used the spreadsheet to suggest people to shut down or delete pipelines that are no longer needed, and used this to track people's progress.

**Result**

- In just about 2 days and a half I got the amount of resources I needed to finish my runs. While in the end my task was still delayed for about a day over plan, I have learned a lot about how to simplify sql queries, and helped our team cleaned up lots of unneeded resource space for future operations.
- And I was also doing some other tasks in parallel while waiting for resources to free up, so time wasn't really wasted.
