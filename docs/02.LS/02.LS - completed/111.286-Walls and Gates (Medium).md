---
title: 286-Walls and Gates
date: 2021-10-05 05:33:13
permalink: /pages/430b76/
categories:
  

tags:
  - 
---
[LC link](https://leetcode.com/problems/walls-and-gates/)

![](https://raw.githubusercontent.com/emmableu/image/master/286-0.png)

Do not return anything, modify rooms in-place instead.

## Solution: BFS
- 先找到所有的门
- 从每个门出发做bfs：
  - 每visit到一个点，就把这个点标记成从门走过来要多少step，这样的话就既记录了step，又有了visited的一个记录
```python
class Solution:
    def wallsAndGates(self, rooms):
        q = []
        max_int = 2 ** 31 - 1
        # 先找到所有的门
        for r in range(len(rooms)):
            for c in range(len(rooms[0])):
                if rooms[r][c] == 0:
                    q.append((r, c))

        for r, c in q:
            dist = rooms[r][c] + 1
            for x, y in [(r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1)]:
                if self.in_area(rooms, x, y) and rooms[x][y] == max_int:
                    rooms[x][y] = dist
                    q.append((x, y))

    def in_area(self, rooms, r, c):
        return 0 <= r < len(rooms) and 0 <= c < len(rooms[0])
```
