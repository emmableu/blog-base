---
title: 529-Minesweeper
date: 2021-09-21 15:33:13
permalink: /pages/e81040/
categories:
  

tags:
  - dfs
---
[LC link](https://leetcode.com/problems/minesweeper/)

![](https://raw.githubusercontent.com/emmableu/image/master/529-0.png)
![](https://raw.githubusercontent.com/emmableu/image/master/529-1.png)

## Solution: DFS

- è‹¥èµ·ç‚¹å¤„æ˜¯é›·ï¼Œå³ â€˜Mâ€™ï¼Œç›´æ¥å°†å…¶ä¿®æ”¹ä¸º 'X'ï¼Œæ¸¸æˆç»“æŸï¼›
- è‹¥èµ·ç‚¹å¤„æ˜¯ç©ºï¼Œå³ â€˜Eâ€™ï¼Œåˆ™ä»èµ·ç‚¹å¼€å§‹å‘ 8 é‚»åŸŸä¸­çš„ç©ºåœ°æœç´¢ï¼Œç›´åˆ°åˆ°è¾¾é‚»æ¥ğŸ’¥çš„ç©ºåœ°åœæ­¢ã€‚
- å’ŒäºŒå‰æ ‘ä»æ ¹ç»“ç‚¹å¼€å§‹æœç´¢ï¼Œç›´åˆ°è¾¾åˆ°å¶å­èŠ‚ç‚¹åœæ­¢ï¼Œæ˜¯å‡ ä¹ä¸€æ ·çš„

```python
class Solution:
    def updateBoard(self, board, click):
        r, c = click
        if board[r][c] == "M":
            board[r][c] = "X"
            return board
        self.dfs(board, r, c)
        return board

    def dfs(self, board, r, c):
        mine_cnt = sum(1 for x, y in self._neighbors(board,r,c) if board[x][y] == "M")
        if mine_cnt:
            board[r][c] = str(mine_cnt)
        else:
            board[r][c] = "B"
            for x, y in self._neighbors(board, r, c):
                if board[x][y] == "E":
                    self.dfs(board, x, y)

    def _neighbors(self, board, r, c):
        for dx, dy in (-1,-1), (-1,0), (-1,1), (0,-1), (0,0), (0,1), (1,-1), (1,0), (1,1):
            x, y = r + dx, c + dy
            if self.in_area(board, x, y):
                yield x, y
        

    def in_area(self, board, r, c):
        return 0 <= r < len(board) and 0 <= c < len(board[0])     
```
