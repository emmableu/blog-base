---
title: 778-Swim in Rising Water
date: 2021-09-21 15:33:13
permalink: /pages/c2e0c3/
categories:
  

tags:
  - bfs
  - heap
---
[LC link](https://leetcode.com/problems/swim-in-rising-water/)

![](https://raw.githubusercontent.com/emmableu/image/master/778-0.png)

## solution:  BFS + priority queue
![](https://raw.githubusercontent.com/emmableu/image/master/778-1.png)

```python
import heapq
class Solution:
    def swimInWater(self, grid: List[List[int]]) -> int:
        q = [(grid[0][0], 0, 0)]
        vis = {(0, 0)}
        res = 0 # 因为grid中的元素最小为0，所以res初始化为0就好
        while True:
            cap, r, c = heapq.heappop(q)
            res = max(res, cap)
            if r == len(grid) - 1 and c == len(grid[0]) - 1:
                return res
            for x, y in (r + 1, c), (r - 1, c), (r, c + 1), (r, c - 1):
                if self.in_area(grid, x, y) and (x, y) not in vis:
                    heapq.heappush(q, (grid[x][y], x, y))
                    vis.add((x, y))
          
    def in_area(self, grid, r, c):
        return 0 <= r < len(grid) and 0 <= c < len(grid[0])
```

time complexity: `O((n^2)*logn)`

- pq contains at most n^2 elements, pop time complexity each time is is O(log(n^2)) = O(2*logn)
- At most we will pop n^2 times
`O((n^2)*2*logn) = O((n^2)*logn)`
