---
title: 085 - 499 - The Maze III - Hard
date: 2022-08-15 11:19:11
permalink: /pages/895d5d/
categories:
  - Google
  - Incomplete
tags:
  - dijkstra
---
![](https://raw.githubusercontent.com/emmableu/image/master/202208161650650.png)![](https://raw.githubusercontent.com/emmableu/image/master/202208161650218.png)![](https://raw.githubusercontent.com/emmableu/image/master/202208161651098.png)
api

```python
>>> [1,2] == [1,2]
True
```


```python
import heapq
class Solution:
	def findShortestWay(self, maze: List[List[int]], ball: List[int], hole: List[int]) -> str:
		q = [tuple([0, ''] + ball)]
		vis = set()
		dir_lst = [('u', -1, 0), ('d', 1, 0), ('l', 0, -1), ('r', 0, 1)]
		while q:
			dist, path, r, c = heapq.heappop(q)
			if [r, c] == hole:
				return path
			vis.add((r, c))
			for dir, dx, dy in dir_lst:
				x, y, new_dist = r, c, dist
				while 0 <= x + dx < len(maze) and 0 <= y + dy < len(maze[0]) \
						and maze[x + dx][y + dy] == 0 and [x, y] != hole:
					x += dx
					y += dy
					new_dist += 1
				if new_dist == dist or (x, y) in vis:
					continue
				heapq.heappush(q, (new_dist, path + dir, x, y))
		return "impossible"
```