---
title: 720 - Longest Word in Dictionary - Medium
date: 2022-07-27 09:57:26
permalink: /pages/210f46/
categories:
  - Google
  - Incomplete
tags:
  - 
---
tags: [Array, Hash Table, String, Trie, Sorting]


[LC Link](https://leetcode.cn/problems/longest-word-in-dictionary/)

<img alt="image" src="https://user-images.githubusercontent.com/41789327/182254744-10dbf4c7-4cf5-4ea3-aed1-003e790ba2ff.png">

## Solution

```python
from collections import defaultdict
class Solution:
	def longestWord(self, words):
		trie_map = TrieMap()
		max_len = 0
		longest_word = ""
		words.sort(key=lambda w: (len(w), -sum(ord(c) for c in w)), reverse=True)
		for word in words:
			if trie_map.is_valid(word):
				return word

class TrieMap:
	def __init__(self):
		self.root = None

	def put(self, key):
		self.root = self.dfs_put(self.root, key, 0)

	def dfs_put(self, node, key, i):
		if node is None:
			node = Node()
		if i == len(key):
			node.is_end = True
			return node
		c = key[i]
		node.children[c] = self.dfs_put(node.children.get(c), key, i + 1)
		return node

	def is_valid(self, word):
		p = self.root
		for c in word:
			p = p.children.get(c)
			if not p or not p.is_end:
				return False
		return True
		
class Node:
	def __init__(self):
		self.is_end = False
		self.children = {}
```