---
title: 1820 - Maximum Number of Accepted Invitations - Medium
date: 2022-07-27 09:57:26
permalink: /pages/a4c8ae/
categories:
  - Google
  - Incomplete
tags:
  - 
---
tags: [Array, Backtracking, Matrix]

[LC Link](https://leetcode.cn/problems/maximum-number-of-accepted-invitations/)

![](https://raw.githubusercontent.com/emmableu/image/master/202208091717865.png)


## Solution
匈牙利算法 (Hungarian Algorithm)
```python
class Solution:
	def maximumInvitations(self, grid: List[List[int]]) -> int:
		m, n = len(grid), len(grid[0])
		matches = {}  # Stores matches formed. key = girl, value = boy.
		for boy in range(len(grid)):
			self.dfs(boy, set())
		return len(matches)

	def dfs(self, boy: int, visited: set, grid: List[List[int]]) -> bool:
		# 用深度优先搜索来match 在index `boy` 上的男孩和 潜在的女孩。
		# dfs 会先遍历所有这个男孩对应的选项的选项，
		# 然后选择the one that maximizes global optimum
		for girl in range(len(grid[0])):
			# Rule 1. 如果当前的girl可以被邀请， 而且还没有被任何人邀请过
			if grid[boy][girl] and girl not in visited:
				visited.add(girl)

			# Rule 2. If you wish to ask a girl that's taken, she will only go with you
			#         if her current partner finds a new girl.
				if girl not in matches or dfs(matchs[girl], visited):
					matches[girl] = boy
					return True

		return False
```