[source](https://www.youtube.com/watch?v=M4504NtnTZM&t=1s)

以下排序全都是默认从小到大排序。

## APIs for testing:

[`random.shuffle()`](https://docs.python.org/3/library/random.html#random.shuffle) changes the `x` list **in place**.

Python API methods that alter a structure in-place generally return `None`, not the modified data structure.

```python
>>> x = ['foo', 'bar', 'black', 'sheep']
>>> random.shuffle(x)
>>> x
['black', 'bar', 'sheep', 'foo']
```

If you wanted to create a **new** randomly-shuffled list based on an existing one, where the existing list is kept in order, you could use [`random.sample()`](https://docs.python.org/3/library/random.html#random.sample) with the full length of the input:

```python
random.sample(x, len(x))   
```

## 冒泡排序 Bubble Sort

### bubbling:
从前往后遍历数组，把最大的元素挪到最右边
![](https://raw.githubusercontent.com/emmableu/image/master/202208281940642.png)

```python
def bubbling(arr, i):
	# 将 下标范围 [0， i]（左闭右闭） 从左往右冒泡，把最大的元素通过和邻居一个个交换挪到最右边 也就是下标为 i 的位置
	for j in range(i - 1):
		if arr[j] > arr[j + 1]:
			arr[j], arr[j + 1] = arr[j + 1], arr[j]
```

### bubble sort: 
给[0, len(arr) - 1] 冒泡后，再冒泡 [0, len(arr) - 2]， 再冒泡 arr[0, len(arr) - 3], ... 最后是冒泡 arr[0, 1] (也就是排序arr[0] 和 arr[1], 把大的放在 arr[1]的地方)
```python
def bubble_sort(arr):
	for i in range(len(arr) - 1, 0, -1):
		bubbling(arr, i)
```

### final code
```python
import random


def bubble_sort(arr):
    for i in range(len(arr) - 1, 0, -1):
        for j in range(i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]


def test_bubble_sort():
    arr = list(range(100))
    for _ in range(10):
        lst = random.sample(arr, len(arr))
        bubble_sort(lst)
        if lst != arr:
            break
    print('test success')


test_bubble_sort()
```

### 优化
```python
import random


def bubble_sort(arr):
    for i in range(len(arr) - 1, 0, -1):
        swapped = False
        for j in range(i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
                swapped = True
            if not swapped:
                break


def test_bubble_sort():
    arr = list(range(100))
    for _ in range(10):
        lst = random.sample(arr, len(arr))
        bubble_sort(lst)
        if lst != arr:
            break
    print('test success')


res = test_bubble_sort()

```

### 优化后的 Complexity
- 最好时间复杂度: O(n) (如果本来就是sort好的，那么根据优化后的方法，就不需要重新sort)
- 最坏时间复杂度: O(n^2)
- 平均时间复杂度


### 面试原题



## 插入排序  Insertion Sort

![](https://raw.githubusercontent.com/emmableu/image/master/202208282219011.png)


```python
import random
def insert_element(arr, i):
    # 将 arr[i] 插入到已经排好序的 idx： [0, i - 1] （左闭右闭）
    new_card = arr[i]
    for j in range(i):
        if arr[j] > arr[i]:
            arr[j], arr[i] = arr[i], arr[j]
            break


def insertion_sort(arr):
    for i in range(1, len(arr)):
        insert_element(arr, i)


def test_insertion_sort():
    arr = list(range(100))
    for _ in range(10):
        lst = random.sample(arr, len(arr))
        insertion_sort(lst)
        if lst != arr:
            break
    print('test success')


res = test_insertion_sort()
```
